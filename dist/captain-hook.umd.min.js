(function (global, factory) {
	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
	typeof define === 'function' && define.amd ? define(factory) :
	(global.CaptainHook = factory());
}(this, (function () { 'use strict';

var defineProperty = function (obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
};



































var toConsumableArray = function (arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];

    return arr2;
  } else {
    return Array.from(arr);
  }
};

var CaptainHook=function(){var a,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=b.on_prop,d=void 0===c?'on':c,e=b.once_prop,f=void 0===e?'once':e,g=b.off_prop,h=void 0===g?'off':g,i=b.emit_prop,j=void 0===i?'_emit':i,k=b.handlers_prop,l=void 0===k?'_handlers':k,m=void 0;return null==l&&(m={}), a={}, defineProperty(a,d,function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},d={callable:b,tag:c.tag,priority:c.priority||10,context:c.context||this,once:c.once||!1},e=void 0;l?(!this[l]&&(this[l]={}), e=this[l]):e=m, e[a]?e[a].push(d):e[a]=[d], e[a].sort(function(c,a){return a.priority-c.priority});}), defineProperty(a,f,function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};c.once=!0, this[d](a,b,c);}), defineProperty(a,h,function(a,b){var c;if(c=l?this[l]:m, b&&c&&c[a]){var d=c[a],e=0,f=!1,g=!0,h=!1,i=void 0;try{for(var j,k,n=d[Symbol.iterator]();!(g=(j=n.next()).done);g=!0){if(k=j.value, k.tag==b){f=!0;break}e++;}}catch(a){h=!0, i=a;}finally{try{!g&&n.return&&n.return();}finally{if(h)throw i}}f&&d.splice(e,1);}}), defineProperty(a,j,function(a){var b=l?this[l]:m;var c=[];if(!b||!b[a])return c;for(var d=arguments.length,e=Array(1<d?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];var g=!0,h=!1,j=void 0;try{for(var k,n=b[a][Symbol.iterator]();!(g=(k=n.next()).done);g=!0){var o,p=k.value;c.push((o=p.callable).call.apply(o,[p.context].concat(toConsumableArray(e))));}}catch(a){h=!0, j=a;}finally{try{!g&&n.return&&n.return();}finally{if(h)throw j}}for(var q,r=b[a].length-1;0<=r;r--)q=b[a][r], q.once&&b[a].splice(r,1);return c}), a};

return CaptainHook;

})));
//# sourceMappingURL=captain-hook.umd.min.js.map
